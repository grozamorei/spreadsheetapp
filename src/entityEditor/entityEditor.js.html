<script>

var autoUpdateEnabled = true
var requestingNow = false

function makeRequest() {
    requestingNow = true
    google.script.run.withSuccessHandler(function(cellValue) {
        requestingNow = false

        var d = document.getElementById('output')
        d.innerHTML = cellValue
        if (autoUpdateEnabled) {
            makeRequest()
        }    
    }).getSelected()
}

function toggleAutoUpdate(value) {
    autoUpdateEnabled = value
    if (autoUpdateEnabled) {
        if (!requestingNow) {
            makeRequest()
        }
    }
}

makeRequest()     
</script>